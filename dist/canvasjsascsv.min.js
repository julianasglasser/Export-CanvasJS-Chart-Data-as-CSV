function CanvasJSDataAsCSV(b,c){var a=document.getElementsByClassName("canvasjs-chart-toolbar")[0];if(b.options.exportEnabled){var d=document.createElement("div"),e=document.createTextNode("Save as CSV");d.setAttribute("style","padding: 12px 8px; background-color: white; color: black");d.appendChild(e);d.addEventListener("mouseover",function(){d.setAttribute("style","padding: 12px 8px; background-color: #2196F3; color: white")});d.addEventListener("mouseout",function(){d.setAttribute("style","padding: 12px 8px; background-color: white; color: black")});
d.addEventListener("click",function(){downloadCSV({filename:(c||"chart-data")+".csv",chart:b})});a.lastChild.appendChild(d)}else a=document.createElement("button"),e=b.container.getBoundingClientRect(),a.style.cssText="position:absolute;display: inline-block;padding: 0px 4px;height: 27px;cursor: pointer;text-align: center;text-decoration: none;background-color: #fff;border: 1px solid rgb(33, 150, 243);left:"+(e.right-(b.options.zoomEnabled?115:60))+"px; top:"+(e.top+2)+"px",e=document.createElement("IMG"),
e.setAttribute("src","data:image/svg+xml;utf8;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGzSURBVEhL7dXPSxRhHMfxqQhEOhVEepK69A/UqZNdAn/gwZOnUAqC8GDHLnpKugQRQmB48+dFJIiEDhbRRQXP4SFEQYRQ0BQl6v3e2Yd9dtl2d5YVPfSBF/vMw/PMd+eZmWeS/2lE7uMr1qt4gbpyA/vYxGwFx/iDl8icB3Cyv5WyixPUVagDTryXO/p3LDKNKWQulKXIB9zFMjIVylLEcaV8aKqm1iIP8TjiVTjP+VVTa5HSOP58FbmNUbTljmqP453n/LPJTXzED7zGZZhrmMEGPsFxxhv+E7fwNN++jor5DLcRT+SaDsG8wW/M4S0GYHwvHNeDCWwhjjtFX9osxK1hPG0m/WhPm8l7bONq7qiQJjjnOXwJFxDHea5KUfxXY2mzKL3wSnbwCBcQsgqv8BeG7YiSqYi5g29wzCs78nmHPdjfZUeUskXcsl1b/+kzdCKO/UvwAQh5AguoxY4oZYss4ggrcJInMBbzuzGPQ8RrH25+uOndCN8Z+w6i40EkrXDLXsMILsE0wyfM/kk4LsSb/x0um7kI2+Hqgi+4goaltFDDC4SEQqdWIMRCLnU+SfIXmIGI6vRCbY8AAAAASUVORK5CYII="),
a.appendChild(e),a.addEventListener("mouseover",function(){this.style.cssText+="background-color: rgb(33, 150, 243)"}),a.addEventListener("mouseout",function(){this.style.cssText+="background-color: #fff;"}),a.addEventListener("click",function(){downloadCSV({filename:(c||"chart-data")+".csv",chart:b})}),b.container.parentNode.insertBefore(a,b.container.nextSibling)}
function convertChartDataToCSV(b){var c;var a=b.data||null;if(null==a||!a.length)return null;var d=b.columnDelimiter||",";var e=b.lineDelimiter||"\n";var g=Object.keys(a[0]);var f="";f+=g.join(d);f+=e;a.forEach(function(a){c=0;g.forEach(function(b){0<c&&(f+=d);f+="undefined"!==typeof a[b]&&null!==a[b]?a[b]:"";c++});f+=e});return f}
function downloadCSV(b){var c;var a="";for(c=0;c<b.chart.options.data.length;c++)a+=convertChartDataToCSV({data:b.chart.options.data[c].dataPoints});null!=a&&(b=b.filename||"chart-data.csv",a.match(/^data:text\/csv/i)||(a="data:text/csv;charset=utf-8,"+a),a=encodeURI(a),c=document.createElement("a"),c.setAttribute("href",a),c.setAttribute("download",b),document.body.appendChild(c),c.click(),document.body.removeChild(c))};